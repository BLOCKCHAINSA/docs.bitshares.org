



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Full Node</title>

    <!-- CSS -->
    <link  href='../_static/main.css' rel='stylesheet'>
    <link  href='../_static/style.css' rel='stylesheet'>
    <link  href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script src='../_static/script.js'></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/title-card.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene/BitShares 2.0 Technical Documentation  documentation"
          href="../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>

 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Graphene/BitShares 2.0 Technical Documentation</h1>
       <p>Full Node</p>
       <p style="margin-top: 3em;"><img src="../_static/learn.svg" width="124" /><p>
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left'>
    
        «&#160;&#160;<a href="index.html">Applications</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="DelayedNode.html">Delayed Full Node</a>&#160;&#160;»

   </div>
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <img src="../_static/grphn-logo.svg" width="48" />
       <!--<a class='big button' href='#' target='_blank'>Download</a>-->
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li><a class="reference internal" href="#">Full Node</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#launching-a-witness-node">Launching a witness node</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#enabling-remote-procedure-calls-rpc">Enabling Remote Procedure Calls (RPC)</a></li>
<li><a class="reference internal" href="#restarting-the-witness-node">Restarting the witness node</a></li>
</ul>
</li>
</ul>

    </div>
   </div>
   <div class='bottom section'>
   <!--
     <a href='https://github.com/cryptonomex/graphene'>View on GitHub</a><br>
     <a href='https://github.com/cryptonomex/graphene/blob/master/README.md' target='_blank'>See .md source</a>
   -->
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="full-node">
<h1>Full Node<a class="headerlink" href="#full-node" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>A full node (a.k.a. <em>non-block producing</em> witness node) represents a node in the
network that verifies all transactions and blocks against its local state.
Hence, we recommend all service providers to run an maintain their own full
nodes for reliability and security reasons.</p>
<p>It takes a <cite>&#8211;data-dir</cite> parameter to define a working and data directory to
store the configuration, blockchain and local databases. Those will be
automatically created with default settings if they don&#8217;t exist locally set.</p>
</div>
<div class="section" id="launching-a-witness-node">
<h2>Launching a witness node<a class="headerlink" href="#launching-a-witness-node" title="Permalink to this headline">¶</a></h2>
<p>The witness is launched according to::</p>
<div class="highlight-python"><div class="highlight"><pre>./programs/witness_node/witness_node --data-dir=&quot;mydata&quot;
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The configuration file <cite>config.ini</cite> in <cite>mydata</cite> is commented and contains the
following essential settings::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Endpoint for P2P node to listen on</span>
<span class="c"># p2p-endpoint =</span>

<span class="c"># P2P nodes to connect to on startup (may specify multiple times)</span>
<span class="c"># seed-node =</span>

<span class="c"># Pairs of [BLOCK_NUM,BLOCK_ID] that should be enforced as checkpoints.</span>
<span class="c"># checkpoint =</span>

<span class="c"># Endpoint for websocket RPC to listen on</span>
<span class="c"># rpc-endpoint = 0.0.0.0:8090</span>

<span class="c"># Endpoint for TLS websocket RPC to listen on</span>
<span class="c"># rpc-tls-endpoint =</span>

<span class="c"># The TLS certificate file for this server</span>
<span class="c"># server-pem =</span>

<span class="c"># Password for this certificate</span>
<span class="c"># server-pem-password =</span>

<span class="c"># File to read Genesis State from</span>
<span class="c"># genesis-json = sep-18-testnet-genesis.json</span>

<span class="c"># JSON file specifying API permissions</span>
<span class="c"># api-access = apiaccess.json</span>

<span class="c"># Enable block production, even if the chain is stale.</span>
<span class="n">enable</span><span class="o">-</span><span class="n">stale</span><span class="o">-</span><span class="n">production</span> <span class="o">=</span> <span class="n">false</span>

<span class="c"># Percent of witnesses (0-99) that must be participating in order to produce blocks</span>
<span class="n">required</span><span class="o">-</span><span class="n">participation</span> <span class="o">=</span> <span class="n">false</span>

<span class="c"># Allow block production, even if the last block was produced by the same witness.</span>
<span class="n">allow</span><span class="o">-</span><span class="n">consecutive</span> <span class="o">=</span> <span class="n">false</span>

<span class="c"># ID of witness controlled by this node (e.g. &quot;1.6.5&quot;, quotes are required, may specify multiple times)</span>
<span class="c"># witness-id =</span>

<span class="c"># Tuple of [PublicKey, WIF private key] (may specify multiple times)</span>
<span class="c"># private-key = [&quot;pubkey&quot;,&quot;wif-key&quot;]</span>

<span class="c"># Account ID to track history for (may specify multiple times)</span>
<span class="c"># track-account =</span>

<span class="c"># Track market history by grouping orders into buckets of equal size measured in seconds specified as a JSON array of numbers</span>
<span class="c"># bucket-size = [15,60,300,3600,86400]</span>

<span class="c"># How far back in time to track history for each bucket size, measured in the number of buckets (default: 1000)</span>
<span class="c"># history-per-size = 1000</span>
</pre></div>
</div>
</div>
<div class="section" id="enabling-remote-procedure-calls-rpc">
<h2>Enabling Remote Procedure Calls (RPC)<a class="headerlink" href="#enabling-remote-procedure-calls-rpc" title="Permalink to this headline">¶</a></h2>
<p>In order to allow RPC calls for blockchain operations you need to modify the
following entry in the configuration file:</p>
<blockquote>
<div>rpc-endpoint = 0.0.0.0:8090</div></blockquote>
<p>This will open the port 8090 for global queries only. Since the witness node
only maintains the blockchain and (unless you are an actively block producing
witness) no private keys are involved, it is safe to expose your witness to the
internet.</p>
</div>
<div class="section" id="restarting-the-witness-node">
<h2>Restarting the witness node<a class="headerlink" href="#restarting-the-witness-node" title="Permalink to this headline">¶</a></h2>
<p>When restarting the witness node, it may be required to append the
<cite>&#8211;replay-blockchain</cite> parameter to regenerate the local (in-memory) blockchain
state.</p>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 </body>
</html>