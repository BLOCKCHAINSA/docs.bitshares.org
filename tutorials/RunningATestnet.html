



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Running a Testnet</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../_static/main.css' rel='stylesheet'>
    <link href='../_static/style.css' rel='stylesheet'>
    <link href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene/BitShares 2.0 Technical Documentation  documentation"
          href="../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Running a Testnet</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../index.html">Contents</a></span>
        </div>

   </div>
   <!--
    <div class='right'>
<div id="searchbox" style="display: none" role="search">
 <form class="search" action="../search.html" method="get">
   <input type="text" name="q" />
   <input type="submit" value="Go" />
   <input type="hidden" name="check_keywords" value="yes" />
   <input type="hidden" name="area" value="default" />
 </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   -->
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="../"><img src="../_static/grphn-logo.svg" width="48" /></a>
       <!--<a class='big button' href='#' target='_blank'>Download</a>-->
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../migration/index.html">Migrating from BitShares 1.0 to BitShares 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Graphene API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration/index.html">Integrating the BitShares Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blockchain/index.html">Blockchain Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/index.html">Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testnet/index.html">Testnets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/index.html">Developers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../meta/index.html">Meta</a></li>
</ul>

    </div>
   </div>
   <div class='bottom section'>
   <!--
     <a href='https://github.com/cryptonomex/graphene'>View on GitHub</a><br>
     <a href='https://github.com/cryptonomex/graphene/blob/master/README.md' target='_blank'>See .md source</a>
   -->
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="running-a-testnet">
<h1>Running a Testnet<a class="headerlink" href="#running-a-testnet" title="Permalink to this headline">Â¶</a></h1>
<p>The following instructions covers the setup of a witness in Ubuntu 14.04. The
instructions are specific for the Test 3 release, but should be easily ported to
other releases.</p>
<p>You can get latest version with chain id, genesis, and chain id from <a class="reference external" href="https://github.com/cryptonomex/graphene/releases">github</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Nodes might gone down as everyone is testing.</p>
</div>
<p>##Installation of dependencies
Extracted from instructions here:
<a class="reference external" href="https://github.com/cryptonomex/graphene/wiki/build-ubuntu">https://github.com/cryptonomex/graphene/wiki/build-ubuntu</a>, but limited only for
witness / cli build.</p>
<p>If you already have done your installation move to next step:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get update
</pre></div>
</div>
<p>Installation of development tools:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install gcc-4.9 g++-4.9 cmake make libbz2-dev libdb++-dev libdb-dev libssl-dev openssl libreadline-dev autoconf libtool git
</pre></div>
</div>
<p>If you cannot install gcc-4.9, you will need to add this repository before hand and try again.:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo add-apt-repository ppa:ubuntu-toolchain-r/test
</pre></div>
</div>
<p>###Installation of BOOST</p>
<dl class="docutils">
<dt>::</dt>
<dd>BOOST_ROOT=$HOME/opt/boost_1_57_0
sudo apt-get update
sudo apt-get install autotools-dev build-essential g++ libbz2-dev libicu-dev python-dev
wget -c &#8216;<a class="reference external" href="http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download">http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download</a>&#8216; -O boost_1_57_0.tar.bz2
[ $( sha256sum boost_1_57_0.tar.bz2 | cut -d &#8216; &#8216; -f 1 ) == &#8220;910c8c022a33ccec7f088bd65d4f14b466588dda94ba2124e78b8c57db264967&#8221; ] || ( echo &#8216;Corrupt download&#8217; ; exit 1 )
tar xjf boost_1_57_0.tar.bz2
cd boost_1_57_0/
./bootstrap.sh &#8220;&#8211;prefix=$BOOST_ROOT&#8221;
./b2 install [/code]</dd>
</dl>
<p>##Git  checkout and build
Ensure your boost path is correct:</p>
<div class="highlight-python"><div class="highlight"><pre>BOOST_ROOT=$HOME/opt/boost_1_57_0
</pre></div>
</div>
<p>Check out and build:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~
git clone https://github.com/cryptonomex/graphene.git
cd graphene
</pre></div>
</div>
<p><strong>Check out test 3 (specific to this chain)</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd>git checkout test3</dd>
</dl>
<p>Update submodules and build make file:</p>
<div class="highlight-python"><div class="highlight"><pre>git submodule update --init --recursive
cmake -DBOOST_ROOT=&quot;$BOOST_ROOT&quot; -DCMAKE_BUILD_TYPE=Debug .
make
</pre></div>
</div>
<p>##Setup witness / import balances</p>
<p>_Navigate to the witness <a href="#id1"><span class="problematic" id="id2">directory_</span></a>:</p>
<div class="highlight-python"><div class="highlight"><pre>cd ~/graphene/programs/witness_node
</pre></div>
</div>
<p>_Download <a href="#id3"><span class="problematic" id="id4">genesis_</span></a>
<strong>Path specific for Test 3</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd>wget <a class="reference external" href="https://github.com/cryptonomex/graphene/releases/download/test3/sep-18-testnet-genesis.json">https://github.com/cryptonomex/graphene/releases/download/test3/sep-18-testnet-genesis.json</a></dd>
</dl>
<p>_Start a new terminal <a href="#id5"><span class="problematic" id="id6">screen_</span></a></p>
<dl class="docutils">
<dt>::</dt>
<dd>screen</dd>
</dl>
<p>_Run the <a href="#id7"><span class="problematic" id="id8">witness_</span></a>
<strong>Current nodes for test 3 (replace for other tests)</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd>./witness_node &#8211;rpc-endpoint &#8220;127.0.0.1:8090&#8221;  &#8211;genesis-json sep-18-testnet-genesis.json -d test_net_3 -s  &#8220;104.236.118.105:1776&#8221;</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><cite>-d</cite> parameter is for the directory you want the witness data to be stored
<cite>-s</cite> is the node you want to connect</p>
</div>
<p>If you have problems, you might need to put the whole path for the genesis:</p>
<div class="highlight-python"><div class="highlight"><pre>./witness_node --rpc-endpoint &quot;127.0.0.1:8090&quot;  --genesis-json ~/graphene/programs/witness-node/sep-18-testnet-genesis.json -d test_net_3 -s &quot;104.236.118.105:1776&quot;
</pre></div>
</div>
<p>_Detach from <a href="#id9"><span class="problematic" id="id10">screen_</span></a></p>
<dl class="docutils">
<dt>::</dt>
<dd>Ctrl A Ctrl D</dd>
</dl>
<p>_Extract your wif keys for user and balances as per xeroc&#8217;s <a href="#id11"><span class="problematic" id="id12">instructions_</span></a>
<code class="xref doc docutils literal"><span class="pre">Howto-become-an-active-witness-in-BitShares-2.0</span></code></p>
<p>_Navigate to <a href="#id13"><span class="problematic" id="id14">cli_wallet_</span></a></p>
<dl class="docutils">
<dt>::</dt>
<dd>cd ~/graphene/programs/cli_wallet</dd>
</dl>
<p>_Run <a href="#id15"><span class="problematic" id="id16">cli_</span></a>
<strong>Current chain id for test 3</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd>./cli_wallet -w test_wallet  &#8211;chain-id 0f8b631d7a9dfebf16d6776fab96b629a14429762bf9c3eb95db1e4e4af637a4</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><cite>-w</cite> is your directory wallet</p>
</div>
<p>_Setup witness as per xerocs <a href="#id17"><span class="problematic" id="id18">instructions_</span></a></p>
<p><code class="xref doc docutils literal"><span class="pre">Howto-become-an-active-witness-in-BitShares-2.0</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember to copy your keys, witness id
Note you need to wait for a maintenance period to be voted in</p>
</div>
<p>_Exit_</p>
<p>_Go back to your witness <a href="#id19"><span class="problematic" id="id20">screen_</span></a></p>
<dl class="docutils">
<dt>::</dt>
<dd>screen -r</dd>
</dl>
<p>_Exit your <a href="#id21"><span class="problematic" id="id22">witness_</span></a></p>
<dl class="docutils">
<dt>::</dt>
<dd>ctrl c</dd>
</dl>
<p>_Restart with parameters to start block producing (block producing needs your witness id and private keys)_ <strong>Current nodes for test 3 (replace for other tests)</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd>./witness_node &#8211;rpc-endpoint &#8220;127.0.0.1:8090&#8221;  &#8211;genesis-json sep-18-testnet-genesis.json -d test_net_3 -s  &#8220;104.236.118.105:1776&#8221;  &#8211;witness-id &#8216;&#8220;1.6.5156&#8221;&#8217; &#8211;private-key &#8216;[&#8220;GPH6JhL..your.signing.key..bc5mWyCvERV3coy&#8221;,&#8221;5K..your.secret..a&#8221;]&#8217;</dd>
</dl>
<p>_See your witness producing blocks and
you can Ctrl A Ctrl D to detach from screen._</p>
<p>##Tips</p>
<p>If you end up in a fork, or your blockchain gets corrupted it takes a long time to replay blockchain.</p>
<p>&gt;When I am synced, I shutdown with C-c (it should shutdown in a clean way) and I copy the blockchain folder as       backup (if it shutdown without errors).
&gt;Everytime my blockchain is corrupted, I remove the blockchain folder and I copy with the backup one and restart    the witness.
&gt;Finally I backup the blockchain folder every day.</p>
<p>&gt;spartako</p>
<p>##Credits
xeroc, puppies, abit, clayop, betax, maqifrnswa, lafona, IHashfury, Riverhead,
testz,  cryptosile, Thom, spartako</p>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>